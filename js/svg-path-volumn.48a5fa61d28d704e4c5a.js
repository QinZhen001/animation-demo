!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=201)}({201:function(n,t,e){"use strict";e(202);var r=document.querySelector(".volumn-path");console.log(r.getPointAtLength(100)),console.log(r.getTotalLength());for(var o=document.querySelector(".volumn-controller"),l=o.querySelector(".volumn-path"),i=l.getTotalLength()>>0,u=[],s=Math.round(l.getPointAtLength(0).x),c=[],a=0;a<i;a++){var d=l.getPointAtLength(a),g=Math.round(d.x)-s;u[g]=Math.round(d.y),c[g]=a}var f=o.querySelector(".drag-button"),h=f.getBoundingClientRect(),m=o.querySelector(".text");function p(n){var t=n.clientX-Math.round(h.left+12);t<0&&(t=0),t>=u.length&&(t=u.length-1),f.setAttribute("cx",t+s),f.setAttribute("cy",u[t]);var e=Math.round(c[t]/i*100);m.textContent="Volumn "+e}l.addEventListener("click",p),f.addEventListener("mousedown",(function(n){document.body.classList.add("dragging"),document.addEventListener("mousemove",p)})),document.addEventListener("mouseup",(function(){document.body.classList.remove("dragging"),document.removeEventListener("mousemove",p)}))},202:function(n,t){n.exports='<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <title>svg的path实现的控制音量</title>\r\n    <style>\r\n        .dragging {\r\n            cursor: pointer;\r\n        }\r\n\r\n        .drag-button {\r\n            cursor: pointer;\r\n        }\r\n\r\n        text {\r\n            user-select: none;\r\n        }\r\n\r\n        ul {\r\n            padding: 0 20px;\r\n            list-style: none;\r\n        }\r\n\r\n        li {\r\n            margin-top: 5px;\r\n            font-size: 20px;\r\n            height: auto;\r\n            line-height: 30px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<h1>svg的path实现的控制音量</h1>\r\n<svg class="volumn-controller" width="580" height="400" xmlns="http://www.w3.org/2000/svg">\r\n    <text class="text"\r\n          fill="#000"\r\n          x="300" y="100"\r\n          font-size="26">Volumn 0\r\n    </text>\r\n    <path class="volumn-path" stroke="#000" d="m100,247c93,-128 284,-129 388,6" opacity="0.5" stroke-width="1"\r\n          fill="#fff"/>\r\n    <circle class="drag-button" r="12" cy="247" cx="100" stroke-width="1" stroke="#000" fill="#fff"/>\r\n    </g>\r\n</svg>\r\n\r\n<ul>\r\n    <li>\r\n        <a href="https://juejin.im/post/5b263f886fb9a00e63252dbe?utm_source=gold_browser_extension">https://juejin.im/post/5b263f886fb9a00e63252dbe?utm_source=gold_browser_extension</a>\r\n    </li>\r\n    <li>\r\n        把circle的cx/cy改成getPointAtLength的x/y坐标，圆圈就会跑到对应的位置去了：\r\n    </li>\r\n    <li>\r\n        这里的问题在于这个API传递的length参数是相对于曲线长度的，但是鼠标移动的位置是线性的，没办法直接知道当前鼠标在曲线上距离起始位置多少。\r\n    </li>\r\n    <li>\r\n        所以需要算一下，在这个场景里面我们可以取鼠标的x坐标在曲线上对应的位置就可以了\r\n    </li>\r\n    <li>\r\n        到这里就有思路了，可以把这条路径上每隔一个像素长度就算一下它的坐标在哪里，然后存在一个数组里面。由于鼠标移动的时候x坐标是知道的，就可以查一下在这个数组里面相应x坐标的y坐标是多少，就能得到想要的圆心位置了。\r\n    </li>\r\n</ul>\r\n\r\n</body>\r\n</html>'}});