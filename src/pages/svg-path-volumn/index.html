<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>svg的path实现的控制音量</title>
    <style>
        .dragging {
            cursor: pointer;
        }

        .drag-button {
            cursor: pointer;
        }

        text {
            user-select: none;
        }

        ul {
            padding: 0 20px;
            list-style: none;
        }

        li {
            margin-top: 5px;
            font-size: 20px;
            height: auto;
            line-height: 30px;
        }
    </style>
</head>
<body>
<h1>svg的path实现的控制音量</h1>
<svg class="volumn-controller" width="580" height="400" xmlns="http://www.w3.org/2000/svg">
    <text class="text"
          fill="#000"
          x="300" y="100"
          font-size="26">Volumn 0
    </text>
    <path class="volumn-path" stroke="#000" d="m100,247c93,-128 284,-129 388,6" opacity="0.5" stroke-width="1"
          fill="#fff"/>
    <circle class="drag-button" r="12" cy="247" cx="100" stroke-width="1" stroke="#000" fill="#fff"/>
    </g>
</svg>

<ul>
    <li>
        <a href="https://juejin.im/post/5b263f886fb9a00e63252dbe?utm_source=gold_browser_extension">https://juejin.im/post/5b263f886fb9a00e63252dbe?utm_source=gold_browser_extension</a>
    </li>
    <li>
        把circle的cx/cy改成getPointAtLength的x/y坐标，圆圈就会跑到对应的位置去了：
    </li>
    <li>
        这里的问题在于这个API传递的length参数是相对于曲线长度的，但是鼠标移动的位置是线性的，没办法直接知道当前鼠标在曲线上距离起始位置多少。
    </li>
    <li>
        所以需要算一下，在这个场景里面我们可以取鼠标的x坐标在曲线上对应的位置就可以了
    </li>
    <li>
        到这里就有思路了，可以把这条路径上每隔一个像素长度就算一下它的坐标在哪里，然后存在一个数组里面。由于鼠标移动的时候x坐标是知道的，就可以查一下在这个数组里面相应x坐标的y坐标是多少，就能得到想要的圆心位置了。
    </li>
</ul>

</body>
</html>